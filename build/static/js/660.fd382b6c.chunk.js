"use strict";(self.webpackChunkappa=self.webpackChunkappa||[]).push([[660],{2660:function(e,n,a){a.r(n);var r=a(5861),t=a(9439),i=a(4687),s=a.n(i),u=a(2791);n.default=function(e){var n=e.audio,a=void 0===n||n,i=e.video,c=void 0!==i&&i,d=e.screen,o=void 0!==d&&d,v=(e.askPermissionOnMount,(0,u.useState)("")),f=(0,t.Z)(v,2),k=(f[0],f[1],(0,u.useRef)()),l=(0,u.useRef)();(0,u.useRef)(),(0,u.useRef)([]),(0,u.useCallback)((0,r.Z)(s().mark((function e(){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=12;break}return e.next=3,navigator.mediaDevices.getDisplayMedia({video:!0});case 3:if(k.current=e.sent,null===(n=k.current)||void 0===n||n.getTracks()[0].addEventListener("ended",(function(){})),!a){e.next=10;break}return e.next=8,navigator.mediaDevices.getUserMedia({audio:!0});case 8:l.current=e.sent,null===(r=l.current)||void 0===r||r.getAudioTracks().forEach((function(e){var n;return null===(n=k.current)||void 0===n?void 0:n.addTrack(e)}));case 10:e.next=15;break;case 12:return e.next=14,navigator.mediaDevices.getUserMedia({video:c,audio:a});case 14:k.current=e.sent;case 15:case"end":return e.stop()}}),e)}))),[o,c,a])}}}]);
//# sourceMappingURL=660.fd382b6c.chunk.js.map