"use strict";(self.webpackChunkappa=self.webpackChunkappa||[]).push([[660],{2660:function(e,a,n){n.r(a);var r=n(4165),t=n(5861),i=n(9439),s=n(2791);a.default=function(e){var a=e.audio,n=void 0===a||a,u=e.video,c=void 0!==u&&u,d=e.screen,o=void 0!==d&&d,v=(e.askPermissionOnMount,(0,s.useState)("")),f=(0,i.Z)(v,2),k=(f[0],f[1],(0,s.useRef)()),l=(0,s.useRef)();(0,s.useRef)(),(0,s.useRef)([]),(0,s.useCallback)((0,t.Z)((0,r.Z)().mark((function e(){var a,t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=12;break}return e.next=3,navigator.mediaDevices.getDisplayMedia({video:!0});case 3:if(k.current=e.sent,null===(a=k.current)||void 0===a||a.getTracks()[0].addEventListener("ended",(function(){})),!n){e.next=10;break}return e.next=8,navigator.mediaDevices.getUserMedia({audio:!0});case 8:l.current=e.sent,null===(t=l.current)||void 0===t||t.getAudioTracks().forEach((function(e){var a;return null===(a=k.current)||void 0===a?void 0:a.addTrack(e)}));case 10:e.next=15;break;case 12:return e.next=14,navigator.mediaDevices.getUserMedia({video:c,audio:n});case 14:k.current=e.sent;case 15:case"end":return e.stop()}}),e)}))),[o,c,n])}}}]);
//# sourceMappingURL=660.eec11b77.chunk.js.map