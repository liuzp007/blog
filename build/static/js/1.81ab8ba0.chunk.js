(this.webpackJsonpappa=this.webpackJsonpappa||[]).push([[1],{163:function(e,t,a){"use strict";a.r(t);var n=a(50),r=a(4),i=a(28),c=a.n(i),s=a(0);t.default=function(e){var t=e.audio,a=void 0===t||t,i=e.video,u=void 0!==i&&i,o=e.screen,d=void 0!==o&&o,v=(e.askPermissionOnMount,Object(s.useState)("")),f=Object(r.a)(v,2),b=(f[0],f[1],Object(s.useRef)()),p=Object(s.useRef)();Object(s.useRef)(),Object(s.useRef)([]),Object(s.useCallback)(Object(n.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=12;break}return e.next=3,navigator.mediaDevices.getDisplayMedia({video:!0});case 3:if(b.current=e.sent,null===(t=b.current)||void 0===t||t.getTracks()[0].addEventListener("ended",(function(){})),!a){e.next=10;break}return e.next=8,navigator.mediaDevices.getUserMedia({audio:!0});case 8:p.current=e.sent,null===(n=p.current)||void 0===n||n.getAudioTracks().forEach((function(e){var t;return null===(t=b.current)||void 0===t?void 0:t.addTrack(e)}));case 10:e.next=15;break;case 12:return e.next=14,navigator.mediaDevices.getUserMedia({video:u,audio:a});case 14:b.current=e.sent;case 15:case"end":return e.stop()}}),e)}))),[d,u,a])}}}]);